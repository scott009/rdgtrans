# Work Order: Correct Language Attributes in Japanese tMaster File
Work Order ID: WO-tMaster-Japanese-Fix-001
Title: Correct lang Attribute and Toggle Text for Japanese tMaster File
Date Issued: 2025-12-11
Supervisor: Scott Tobias
Priority: High

## Summary
This Work Order performs a **targeted corrective update** to the Japanese tMaster HTML file located at:

```
/mnt/c/Users/scott/Documents/RecoveryDharma/RDGBook/output_V1/docs/tmasterJapanese.html
```

The purpose is to bring the Japanese file into alignment with the SSQS v2-compliant reference model (`tmasterThai.html`) by correcting:

1. The root `<html lang="...">` attribute  
2. Any incorrect or mismatched **language toggle UI text**

No other structural or content modifications are permitted.  
`tmasterThai.html` must remain strictly read‑only.

---

## 1. PURPOSE
- Fix the incorrect `lang="th"` attribute in the Japanese file → must become `lang="ja"`.  
- Ensure the language-toggle elements (e.g., labels, button text) correctly reference Japanese.  
- Leave all other attributes, structure, and content untouched.  
- Establish the Japanese tMaster file as a second “gold-standard” reference after Thai.

---

## 2. SCOPE & BOUNDARIES

### 2.1 Allowed Directories (read/write)
```
/mnt/c/Users/scott/Documents/RecoveryDharma/RDGBook/output_V1/docs/
supervisor_updates/WO-tMaster-Japanese-Fix-001/
```

### 2.2 Forbidden Directories (no read/write)
```
showoff/archive/
workorders/
translations/
src/
dist/
assets/
```

### 2.3 Files Allowed to Be Modified
Only **one** file may be modified:
```
/mnt/c/Users/scott/Documents/RecoveryDharma/RDGBook/output_V1/docs/tmasterJapanese.html
```

### 2.4 Files Explicitly Protected (read-only)
```
tmasterThai.html
all other tmaster*.html files
```

---

## 3. EXECUTION MODEL (Sonnet / Haiku)

### 3.1 Sonnet Responsibilities
Sonnet must:
- Interpret this Work Order under SSQS v2 rules.
- Parse the Japanese tMaster file.
- Identify:
  - the `<html lang="...">` tag
  - all label/button text associated with language toggles
- Generate a deterministic edit plan that:
  - modifies ONLY the values required
  - does NOT alter structure, whitespace, ordering, IDs, metadata, or any non-tag text
- Confirm that no modification is proposed for any file except the Japanese tMaster file.

### 3.2 Haiku Responsibilities
Haiku must:
- Apply Sonnet’s deterministic patch exactly.
- Write the corrected version of `tmasterJapanese.html` in place.
- Create a mirror copy of the corrected file at:
  ```
  supervisor_updates/WO-tMaster-Japanese-Fix-001/tmasterJapanese.html
  ```
- Ensure no other `.html` file is modified.

### 3.3 Execution Rule
**Sonnet plans. Haiku executes.**  
If Haiku detects that the patch affects any file other than the Japanese tMaster file, it must halt and report an error.

---

## 4. TASK DESCRIPTION

### Task 1 — Correct Root `lang` Attribute
Locate the opening `<html ...>` tag and ensure:
```
lang="ja"
```
Replace incorrect values (`"th"`, `"en"`, or others).

### Task 2 — Verify & Correct Language Toggle Text
If the UI contains components such as:
- buttons labeled “Thai / English”
- indicators showing “TH / EN”
- descriptors such as “Thai Version”

Then correct ONLY the language indicator corresponding to Japanese.

Example corrections (Sonnet will determine exact text based on the file):
- “TH / EN” → “JA / EN”
- “Thai Version” → “Japanese Version”
- “Switch to Thai” → “Switch to Japanese”

### Task 3 — Do NOT Modify Anything Else
- No structural edits  
- No metadata edits  
- No changes to containers  
- No pr-id regeneration  
- No rewritten sections  

### Task 4 — Reporting
Haiku must generate:
```
supervisor_updates/WO-tMaster-Japanese-Fix-001/patchReport.md
```

The report must include:
- summary of what was changed
- confirmation that no other modifications occurred
- before/after snippets of corrected sections

---

## 5. METADATA FOR EXECUTION

### 5.1 File Inventory
In-scope modification:
```
/mnt/c/Users/scott/Documents/RecoveryDharma/RDGBook/output_V1/docs/tmasterJapanese.html
```

Reference (read-only):
```
tmasterThai.html
```

### 5.2 Versioning
Append at end of file (as comment):
```
<!-- Updated by WO-tMaster-Japanese-Fix-001 -->
```

---

## 6. PLAN OF EXECUTION (Generated by Sonnet)
Sonnet will:
1. Load the Japanese tMaster file.
2. Locate the root `<html>` lang attribute.
3. Locate toggle UI elements.
4. Prepare a line-precise deterministic patch.
5. Validate patch scope.
6. Delegate patch to Haiku.

---

## 7. EXECUTION (Performed by Haiku)
Haiku must:
- Apply patch to the Japanese file only.
- Create full mirror copies in `supervisor_updates/WO-tMaster-Japanese-Fix-001/`.
- Write `patchReport.md`.

---

## 8. ERROR HANDLING & ESCALATION

### Haiku must halt if:
- Patch attempts to modify any file other than the Japanese one.
- File not found at given path.
- Patch modifies structure or adds/removes lines not approved.

### Sonnet must:
- Diagnose failure.
- Request clarification from Supervisor if file contents differ unexpectedly.
- Regenerate a safe plan.

---

## 9. DELIVERABLES
Haiku will produce in:
```
supervisor_updates/WO-tMaster-Japanese-Fix-001/
```
- corrected `tmasterJapanese.html`
- `patchReport.md`

---

## 10. ACCEPTANCE CRITERIA
- Japanese file contains `lang="ja"` in root tag.
- Toggle labels correctly reflect Japanese.
- No other content changed.
- Thai reference untouched.
- Other tMaster files untouched.
- Report generated.
- Mirror copy generated.
- All operations SSQS v2 compliant.

---

## 11. NOTES
This Work Order establishes the Japanese file as a second reference model.  
It should be executed **before** regeneration of the remaining four languages.

---

## 12. END OF WORK ORDER
