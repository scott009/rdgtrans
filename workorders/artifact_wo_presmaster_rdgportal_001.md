# WO-PRESMASTER-RDGPortal-001

## SSQS v2 — Haiku-Safe Work Order

---

## 0. WORK ORDER HEADER

**Work Order ID:** WO-PRESMASTER-RDGPortal-001  
**Title:** Specify RDGTranslations Portal Container in presentation.json  
**Date Issued:** 2025-12-29  
**Supervisor:** User  
**Priority:** High  

**Summary:** Analyze existing RDGTranslations.html and add a complete container specification to presentation.json (presmaster), defining structure, sections, UI elements, and validation rules for the multi-language project portal.

---

## 1. PURPOSE

Add a complete specification for the RDGTranslations portal container to presentation.json, establishing it as a formally defined container type alongside `tmaster`. This specification will:

- Document the existing portal's structure and UI elements
- Enable systematic generation and maintenance of the portal
- Provide a foundation for derivative containers (e.g., LanguagePortal in a future Work Order)
- Close a known specification gap required before narrative/manifest work

---

## 2. SCOPE & BOUNDARIES

### 2.1 Allowed Directories

- `/home/scott/gitrepos/rdgtrans/`  
  *(Read and write: presentation.json)*

- `/mnt/c/Users/scott/Documents/RecoveryDharma/RDGBook/output_V1/docs/`  
  *(Read-only: reference implementation)*

### 2.2 Forbidden Directories

- `/home/scott/gitrepos/rdgtrans/lmasters/` — content layer
- `/home/scott/gitrepos/rdgtrans/corrections/` — out of scope
- Any non-project directories

### 2.3 File Types in Scope

- **Read:** `RDGTranslations.html`
- **Read → Write:** `presentation.json`

---

## 3. EXECUTION MODEL (Sonnet / Haiku)

### 3.1 Sonnet Responsibilities

- Read and analyze `RDGTranslations.html`
- Identify all structural sections, headings, UI labels, links, assets, and audio elements
- Determine which elements belong to the presentation layer vs. content layer
- Design a new container specification following the existing `tmaster` model
- Produce a complete JSON specification for a new container type: `rdg_translations_portal`
- Validate completeness and consistency against the `tmaster` container
- Supervise Haiku execution and validate results

### 3.2 Haiku Responsibilities

- Execute Sonnet’s finalized plan
- Insert the new `rdg_translations_portal` entry into the `container_types` section of `presentation.json`
- Preserve exact JSON structure provided by Sonnet
- Maintain correct formatting and syntax
- Report completion or errors

### 3.3 Execution Rule

Sonnet analyzes, designs, and specifies.  
Haiku executes file modification exactly as specified.

---

## 4. TASK DESCRIPTION

### Deterministic Steps

1. **Read reference implementation:**  
   `/mnt/c/Users/scott/Documents/RecoveryDharma/RDGBook/output_V1/docs/RDGTranslations.html`

2. **Analyze and identify:**
   - Page sections
   - Headings (h1–h4)
   - UI labels and descriptive text
   - Navigation links
   - Audio player structure
   - CSS assets (external and embedded)

3. **Design container specification** following the `tmaster` pattern, including:
   - `version`
   - `description`
   - `reference_implementation`
   - `specification` (future doc reference)
   - `structure` (sections with ids, types, elements, descriptions)
   - `assets`
   - `validation` rules

4. **Read current presmaster:**  
   `/home/scott/gitrepos/rdgtrans/presentation.json`

5. **Add new container type:**  
   Insert `rdg_translations_portal` under `container_types`

6. **Write updated `presentation.json`**

7. **Validate:**
   - JSON syntax correctness
   - Structural parity with `tmaster`
   - Full coverage of portal sections

---

## 5. METADATA FOR EXECUTION

### Reference Implementation

- **File:** `RDGTranslations.html`  
- **Path:** `/mnt/c/Users/scott/Documents/RecoveryDharma/RDGBook/output_V1/docs/`  
- **Last Modified:** 2024-11-30 14:09

### Target File

- **File:** `presentation.json`  
- **Path:** `/home/scott/gitrepos/rdgtrans/presentation.json`  
- **Current Version:** 3.0.0  
- **Last Updated:** 2025-12-05

### Identified Sections (Reference-Based)

1. Header / page metadata
2. About the project
3. English source link
4. Audio introductions (7 players)
5. Translation masters (6 links)
6. Print masters (6 links)
7. Participation (multiple subsections)
8. Contact / closing section

### Assets

- External CSS: `ada3.css`
- Embedded CSS: link hover styles
- Audio: Archive.org audio players

### Navigation Links

- English source page
- 6 translation master pages
- 6 print master pages
- Contact email link

---

## 6. PLAN OF EXECUTION

*To be generated by Sonnet during validation and handed to Haiku for execution.*

---

## 7. EXECUTION

*Haiku will execute exactly as planned by Sonnet.*

---

## 8. ERROR HANDLING & ESCALATION

### Haiku Must Halt If:

- `presentation.json` has unexpected structure changes since last read
- JSON syntax errors occur during edit
- File write fails

### Haiku Must Report:

- Exact error message
- File state at time of error
- Last successful operation completed

### Sonnet Resolution:

- Validate Work Order assumptions
- Adjust plan if needed
- Re-execute or escalate to user

---

## 9. DELIVERABLES

1. **Updated presentation.json** with new `rdg_translations_portal` container_types entry
2. **Validation confirmation** that JSON is syntactically correct
3. **Structure summary** showing sections, elements, and assets defined

---

## 10. ACCEPTANCE CRITERIA

✅ `presentation.json` contains new `rdg_translations_portal` entry in `container_types`
✅ Entry includes: `version`, `description`, `reference_implementation`, `structure`, `assets`, `validation`
✅ Structure section captures all major sections from `RDGTranslations.html`
✅ JSON syntax is valid (file can be parsed without errors)
✅ Specification follows `tmaster` model pattern for consistency
✅ No modifications to existing `container_types` entries (`tmaster`, `screen_reader`, `print_master`)
✅ File version metadata remains at 3.0.0 (no version bump for adding specification)

---

## 11. NOTES & SPECIAL INSTRUCTIONS

### Presentation vs Content Distinction

- **Extract to presmaster:** Section headings, labels, UI structure, navigation links
- **Leave in HTML:** Narrative paragraph content (mission statements, descriptions)
- **Rationale:** Headings and structure are presentation layer; narrative content is editorial

### Future Multilingual Portal

While the current `RDGTranslations.html` is English-only, the specification should anticipate future multilingual portal versions. Consider including `language_config` structure (even if initially only English is defined).

### Derivative Container Foundation

This specification will serve as the foundation for a future LanguagePortal Work Order (WO-3). The structure should be clear and reusable.

### Reference Pattern

Use `tmaster` specification (lines 331-495 in current `presentation.json`) as structural model for consistency.

---

## 12. END OF WORK ORDER

